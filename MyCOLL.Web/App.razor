@using Microsoft.AspNetCore.Components.Authorization
@using MyCOLL.Shared.Components.Layout

<CascadingAuthenticationState>
    
    <Router AppAssembly="@typeof(Program).Assembly" 
            AdditionalAssemblies="new[] { typeof(MyCOLL.Shared.Components.Pages.Home).Assembly }">
        
        <Found Context="routeData">
            <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)">
                <NotAuthorized>
                    <div class="alert alert-danger m-4">
                        Não tem permissão para aceder a esta página. <a href="/login">Faça Login</a>.
                    </div>
                </NotAuthorized>
                <Authorizing>
                    <div class="p-4">A verificar autenticação...</div>
                </Authorizing>
            </AuthorizeRouteView>
            
            <FocusOnNavigate RouteData="@routeData" Selector="h1" />
        </Found>

        <NotFound>
            <PageTitle>Not found</PageTitle>
            <LayoutView Layout="@typeof(MainLayout)">
                <p role="alert">Desculpe, não há nada neste endereço.</p>
            </LayoutView>
        </NotFound>
    </Router>

</CascadingAuthenticationState>